<div class="grid">
    <div class="col-12 md:col-12">
        <div class="card">
            <form
                [formGroup]="createForm"
                #form="ngForm"
                (ngSubmit)="onSubmit()"
            >
                <h5>{{'generic.fields.createCompany' | translate }}</h5>
                <div class="p-fluid p-formgrid grid">
                    <div class="field col-12 md:col-4">
                        <label htmlFor="name1">{{'generic.fields.companyName' | translate }}</label>
                        <input
                            pInputText
                            id="name1"
                            placeholder="Azienda"
                            type="text"
                            formControlName="name"
                            ngModel
                        />
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="vat1">{{'generic.fields.vatNumber' | translate }}</label>
                        <input
                            pInputText
                            id="vat1"
                            type="text"
                            placeholder="81232412323"
                            formControlName="vat"
                            ngModel
                        />
                        <div
                            *ngIf="
                                createForm.controls['vat'].invalid &&
                                (createForm.controls['vat'].dirty ||
                                    createForm.controls['vat'].touched)
                            "
                            class="alert"
                        >
                            <div
                                *ngIf="
                                    createForm.controls['vat'].errors['pattern']
                                "
                            >
                                <small class="p-error">PIVA non Ã¨ valido</small>
                            </div>
                        </div>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="rea_number1">{{'generic.fields.reaNumber' | translate }}</label>
                        <input
                            pInputText
                            id="rea_number1"
                            type="text"
                            placeholder="MI-123456"
                            formControlName="reaNumber"
                            ngModel
                        />
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="legal_form1">{{'generic.fields.legalForm' | translate }}</label>

                        <p-dropdown
                            [options]="legalFormItems"
                            optionLabel="name"
                            optionValue="name"
                            placeholder="Seleziona forma giuridica"
                            formControlName="legalForm"
                            [(ngModel)]="selectedLegalForm"
                        ></p-dropdown>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="vat1">{{'generic.fields.legalAddress' | translate }}</label>
                        <app-default-autocomplete
                            controlName="registeredOffice"
                            [defaultAutocompleteForm]="createForm"
                        >
                        </app-default-autocomplete>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="vat1">{{'generic.fields.operationalAddress' | translate }}</label>
                        <app-default-autocomplete
                            controlName="headOffice"
                            [defaultAutocompleteForm]="createForm"
                        >
                        </app-default-autocomplete>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="phone1">{{'generic.fields.phone' | translate }}</label>
                        <input
                            pInputText
                            id="phone1"
                            type="text"
                            placeholder="021234523"
                            formControlName="phone"
                            ngModel
                        />
                    </div>

                    <div class="field col-12 md:col-4">
                        <label htmlFor="email1">{{'generic.fields.email' | translate }}</label>
                        <input
                            pInputText
                            id="email1"
                            type="text"
                            placeholder="azienda@email.it"
                            formControlName="email"
                            (input)="
                                createForm.controls.email.setValue(
                                    createForm.controls.email.value.toLowerCase()
                                )
                            "
                            ngModel
                        />
                        <div
                            *ngIf="
                                createForm.controls['email'].invalid &&
                                (createForm.controls['email'].dirty ||
                                    createForm.controls['email'].touched)
                            "
                            class="alert"
                        >
                            <div
                                *ngIf="
                                    createForm.controls['email'].errors[
                                        'pattern'
                                    ]
                                "
                            >
                                <small class="p-error"
                                    >Email address is invalid</small
                                >
                            </div>
                        </div>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="pec1">{{'generic.fields.pec' | translate }}</label>
                        <input
                            pInputText
                            id="pec1"
                            type="text"
                            placeholder="azienda@pec.it"
                            formControlName="pec"
                            (input)="
                                createForm.controls.pec.setValue(
                                    createForm.controls.pec.value.toLowerCase()
                                )
                            "
                            ngModel
                        />
                        <div
                            *ngIf="
                                createForm.controls['pec'].invalid &&
                                (createForm.controls['pec'].dirty ||
                                    createForm.controls['pec'].touched)
                            "
                            class="alert"
                        >
                            <div
                                *ngIf="
                                    createForm.controls['pec'].errors['pattern']
                                "
                            >
                                <small class="p-error"
                                    >PEC address is invalid</small
                                >
                            </div>
                        </div>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="website1">{{'generic.fields.website' | translate }}</label>
                        <input
                            pInputText
                            id="website1"
                            type="text"
                            placeholder="www.sito.it"
                            formControlName="website"
                            ngModel
                        />
                    </div>
                    <!-- <div class="field col-12 md:col-4">
                        <label htmlFor="user1">Rappresentante legale</label>
                        <p-dropdown
                            [options]="ceosItems"
                            optionLabel="fullName"
                            optionValue="id"
                            placeholder="Seleziona rappresentante legale"
                            [showClear]="true"
                            formControlName="ceoId"
                            [(ngModel)]="selectedCeo"
                        ></p-dropdown>
                    </div> -->
                    <div class="field col-12 md:col-4">
                        <label htmlFor="status1">{{'generic.fields.createdAt' | translate }}</label>
                        <br />
                        <p-calendar
                            [showIcon]="true"
                            inputId="icon"
                        ></p-calendar>
                    </div>
                    <div class="field col-12 md:col-4">
                        <label htmlFor="status1">{{'generic.fields.enableDisable' | translate }}</label> <br />
                        <p-inputSwitch formControlName="status"></p-inputSwitch>
                    </div>

                    <div class="field col-12 md:col-4">
                        <label htmlFor="description1">{{'generic.fields.description' | translate }}</label>

                        <textarea
                            rows="5"
                            cols="30"
                            ngModel
                            formControlName="description"
                            pInputTextarea
                        ></textarea>
                    </div>
                </div>

                <div
                    class="flex justify-content-center align-items-center gap-2"
                >
                    <button
                        pButton
                        pRipple
                        type="submit"
                        class="p-button-success"
                        [label]="'generic.fields.create' | translate"
                        icon="pi pi-plus"
                        [disabled]="!createForm.valid"
                    ></button>
                </div>
                
            </form>
        </div>
    </div>
</div>
